### 1. 데이터 교환 방식

- 교환 통신망의 필요성
  - 단말기는 데이터를 비교적 짧은 시간에만 전송하므로 특정 단말기마다 전용선을 갖도록 하는 것은 매우 비효율적이며 비경제적임.
  - 교환기(switch)라는 장치들을 이용하여 상호 연결형으로 구성된 교환 통신망(switched communication network)을 이용
  - 교환 통신망에서의 데이터 교환 방식은 회선교환(circuit switching), 패킷 교환(packet switching), 메시지 교환(message switching)방식으로 분류됨.
- 회선교환
  - 이 방식은 단말기 간에 통신을 제공하기 위해 경로상에 필요한 자원들을 미리 할당하고, 할당된 자원을 이용하여 데이터를 전송하며, 데이터 전송이 종료되면 할당된 자원을 해제시킴.
  - 대표적인 예: 전화망
  - 회선교환 방식의 단계
    1. 회선 설정(circuit establishment): 송\*수신자 간에 실제 통신이 이루어지기 이전에 전용 회선을 설정하는 단계로서, 교환기들 사이에 전용 채널을 만듦.
    2. 데이터 전송(data transfer): 전용 회선으로 연결이 설정된 후에 송\*수신자 간에 데이터를 주고받는 단계
    3. 회선 해지(circuit disconnect): 데이터 전송이 모두 완료되어 송\*수신자 간에 설정된 연결을 끊는 단계로서 경로상에 있는 모든 교환기로 신호를 보내어 회선을 해지시킴.
  - 통신 경로가 설정되어 있는 동안에는 송신자와 수신자 사이에 마치 전용선처럼 사용하므로 데이터의 양이 많고 비교적 오랜 시간 동안 사용하는 실시간이나 긴 메시지 전송에 적합
  - 회선이 독점적으로 사용되므로 현재 사용 중인 회선은 다른 사용자가 사용할 수 없게 되어 회선 이용률의 측면에서는 비효율적
- 패킷 교환
  - 이 방식은 회선교환 방식과 달리 송\*수진자 간에 전용선을 요구하지 않는 방식으로서, 전송 데이터 모두가 패킷 형태로 변환되어 전송됨.
    - 패킷: 데이터 비트들의 덩어리를 의미
  - 전송 데이터가 여러 개의 패킷 형태로 분할되어 전송되므로 전송 매체상에 여러 사용자의 패킷이 동시에 전송될 수 있음.
  - 단말기 간에 통신 회선이 점유되지 않고 여러 패킷에 의해 공유되므로 회선의 이용률이 높음. 전송 실패된 패킷에 대해 재전송 요구가 가능하므로 신뢰성 있는 교환 방식임.
  - 패킷 교환 방신은 경로의 설정 방법에 따라 가상 회선(virtual circuit) 방식과 데이터그램(datagram) 방식으로 구분
- 가상 회선 방식
  - 이 방식은 데이터 전송이 이루어지기 이전에 송\*수신자 간에 가상 회선이라 불리는 논리적인 경로가 먼저 설정된 후 이 가상 회선을 통해 모든 패킷이 전송
  - 각 패킷 헤더에는 라우팅 정보로서 가상 회선 식별자(Virtual Circuit Identifier: VCI)가 포함되며, 가상 회선 식별자는 경로가 설정될 때에 정해지고 패킷이 전송되면서 가상 회선 식별자의 값은 바뀜
- 데이터그램 방식
  - 이 방식은 데이터 전송 이전에 송\*수신자 간의 논리적 경로를 설정하지 않고 각 패킷들이 각기 독립적으로 전송되는 방식. 이때 각각의 독립적 패킷을 데이터그램이라고 부름.
  - 송\*수신자 간의 중간 노드들이 패킷을 수신할 때마다 네트워크 상태를 고려하여 최적의 전달 경로를 선택한 후 다음 노드를 향해 수신한 패킷을 전달하는 방식에 기반을 함.
  - TCP/IP에서 대표적으로 사용되고 있음.
- 메시지 교환
  - 이 방식은 회선 교환의 단점인 독점적 회선 사용을 개선시켜 하나의 메시지 단위로 전장 후 전송(store-and-forward)방식에 의해 데이터를 교환하는 방식.
  - 메시지 교환의 장점
    1. 메시지의 분할과 재조립 과정이 필요하지 않으므로 시간이 절약
    2. 메시지의 분할 없이 메시지 단위로 전송하므로 헤더 오버헤드가 패킷 교환보다 적음.
  - 메시지 교환의 단점
    1. 저장 후 전송 방식을 사용하므로 패킷 교환에 비해 전체 메시지를 전송하는데 더 많은 시간이 소요
    2. 전송 시에 오류가 발생하면 전체 메시지를 폐기하고 재전송해야 하므로 대역폭의 낭비를 가져올 수 있음.

---

### 2. 다중화

- 다중화 원리 및 목적
  - 다중화(multiplexing)는 여러 단말기들이 단일 통신선로의 용량을 나누어 쓸 수 있도록 해 주는 투명한 방법
  - 투명하다는 의미는 다중화가 진행되면서 데이터에 어떠한 조작이나 동작도 가하지 않으면서 단말기는 다중화에 상관없이 통신선로로 데이터를 전송한다는 의미
  - 다중화의 주요 목적은 전송 자원 이용의 효율성 및 통신망 구축 비용 절감
- 다중화의 종류
  - 두 가지 기본 방식으로 시분할 다중화 방식(Time Division Multiplexing: TDM)과 주파수 분할 다중화 방식(Frequency Division Multiplexing: FDM)이 있으며, 그 밖에도 부호 분할 다중화 방식(Code Division Multiple Access: CDMA), 통계적 다중화 방식(statistical multiplexing) 등이 있다.
- 시분할 다중화 방식
  - 낮은 전송속도를 갖는 여러 대의 단말기가 높은 속도의 하나의 통신선로로 데이터를 전송하기 위해 사용
  - 다중화기로 들어오는 데이터들을 단말기마다 주어진 타임슬롯(time slot)만큼 끼워 넣어 하나의 프레임을 구성하고, 높은 속도의 통신선로로 프레임 단위로 전송
- 주파수 분할 다중화 방식
  - 여러 개의 낮은 속도의 데이터를 각각의 반송파 주파수에 변조(modulation)하여 하나의 통신선로로 보내는 방식
  - 각 반송파 주파수로 변조된 데이터는 수신측에서 원래 데이터로 추출하기 위해 복조 과정을 수행
  - 예) AM, FM 라디오 방송

---

### 3. 동기화

- 동기화의 역활
  - 송\*수신자가 동일한 속도로 데이터를 전송하고 수신하는지에 관한 문제를 다룸.
- 송\*수신지국 사이의 비트 동기화 방법
  - 동기식 전송: 송신지국과 수신지국이 서로 독립적인 클록을 갖는 상태에서 비트 동기를 수행
  - 비동기식 전송: 한 지국만이 클록을 갖고 다른 하나는 그 클록을 이용하여 비트 동기를 수행
  - 시작\-정지(start\-stop) 방식: 송신지국의 클록은 시작 신호에 의해서 시작되고, 몇 비트의 동기 전송 후에는 정지 신호를 보내 전송을 멈추게 함. 그리고 수신지국이 다음 시작 신호에 대해 준비하게 하는 방식

---

### 4. 주소지정

- 주소지정의 역활
  - 컴퓨터 통신망은 많은 사용자가 공유하므로 각 사용자(혹은 컴퓨터, 노드)를 고유하게 식별하는 방법이 필요
  - 모든 통신지국이 서로 간에 전용 링크를 갖고 있으면 주소지정은 필요피 않음. 그러나 컴퓨터 통신망은 통신 자원을 포함한 수많은 네트워크 자원을 공유하도록 설계되었으므로 반드시 주소지정이 필요
- 주소 구조
  - 일반적으로 노드 컴퓨터 주소, 주 컴퓨터 주소, 프로세스 주소 순으로 구성될 수 있음
  - 인터넷의 논리주소와 물리주소의 구조
- 주소지정 방식의 기준
  - 계층 구조에서 계층의 수
  - 부 네트워크에 의해 제공되는 주소와 관련된 서비스의 종류
  - 같은 주소를 갖는 지국의 수
  - 주소할당 모드
- 지국이 갖는 주소의 수에 따른 분류
  - 단일주소 지정: 하나의 지국이 하나의 주소를 갖는 경우
  - 다중주소 지정: 하나의 지국이 여러 개의 주소를 갖는 경우

---

### 5. 오류제어

#### 5.1. 오류와 오류제어

- 오류의 의미
  - 컴퓨터 통신망에서 송신측에서 보낸 데이터와 수신측에서 받은 데이터는 형태가 같아야 하며 보낸 데이터와 받은 데이터 사이에는 차이가 없어야 하는데, 차이가 발생한다면 이를 오류가 있다고 함
  - 오류율로 표현되는 RER(Residual Error Rate)는 오류로 전달된 비트 수와 전송된 전체 비트 수와의 비율로 측정
  - 하나의 비트에서 오류가 발생하는 경우를 단일 비트 오류라고 하며, 연속된 여러 비트에 걸쳐서 발생하는 오류를 폭주오류라고 함.
- 오류제어
  - 잡음, 고장 등의 영향에 대비하여 RER를 주어진 한계 이내로 유지하도록 하는 통신 기능
  - 오류제어는 독자적으로 수행되지 않고 보통 흐름제어와 함께 수행
- 오류제어 방식
  - 전진 오류정정(Forward Error Correction): 송신측이 전송할 프레임에 부가적인 정보를 첨가하여 전송하고, 수신측이 이 정보를 활용하여 오류를 검출하고 오류를 유추하는 방식
  - 후진 오류정정(Backward Error Correction): 수신측이 오류를 검출할 수 있는 부가적인 정보를 송신측이 전송할 프레임에 참가시켜 전송하고, 오류검출 시에 재전송을 요구하는 방식

#### 5.2. 오류검출 방식

오류검출 방식에는 패리티 검사, 검사합, 순환잉여검사 방식이 있음.

- 패리티 검사
  - 각 문자의 비트 수를 검사하여 패리티 비트를 포함한 전체 비트에서 1의 개수가 홀수(odd parity)나 짝수(even parity)가 되도록 패리티 비트(parity bit)라는 한 개의 비트를 추가해 주는 방식
  - 단순 패리티 검사: 전송문자마다 패리티 비트를 첨가하고 오류를 검사
  - 2차원 패리티 검사: 단순 패리티 검사는 발생한 비트의 개수가 짝수일 때는 오류를 검출할 수 없음. 이를 보안한 2차원 패리티 검사는 블록 단위로 끊어 동일한 열 위치에 대해서도 패리티 비트를 추가하여 검사하는 방식
- 검사합
  - 패리티 검사보다 좀더 명확한 오류검출을 제공. 실례로 TCP와 UDP 헤더 내에 검사합 필드가 있음. 전송 과정 중에 헤더 내용이 바뀌었는지를 검사
  - 검사합은 검사합 생성기와 검사합 검사기인 두 가지 과정으로 이루어짐. 검사합 생성기는 송신측에서 사용, 전송할 데이터에 덧붙여지는 추가 데이터를 생성함. 검사합 검사기는 수신측에서 사용, 전송받은 데이터에 오류가 있는지를 검출
  - 검사합 생성기에 의한 검사합 생성 과정
    1. 전송할 데이터를 n비트 단위의 세그먼트로 나눔.
    2. 각각의 세그먼트를 모두 더해 전체 합을 구함(전체 합의 계산 과정 중에 개리비트가 발생할 수 있는데(순환 캐리), 순환 캐리는 버리지 않고 전체 합과 합쳐짐).
    3. 전체 합의 1의 보수연산을 이용하여 보수화하여 검사합을 만듦.
    4. 전송할 데이터의 끝에 덧붙여서 수신측으로 이동.
  - 검사합 검출기에 의한 오류검출 과정
    1. 수신측은 송신측이 전송한 n비트 단위의 세그먼트들과 검사합으로 이루어진 비트 열을 수신함.
    2. 세그먼트들과 검사합을 모두 합하여 전체 합을 만듦.
    3. 전체 합에 대한 1의 보수화 방식으로 보수화시킴.
    4. 보수화 결과가 0이 아니면 전송 과정 중에 데이터가 손상되어 오류가 발생했음을 의미함. 이 경우 수신측은 전송받은 데이터를 거절함. 만일 결과가 0이면 오류가 없음을 의미
- 순환잉여검사
  - 메시지가 문자 단위가 아닌 2진수의 조합에 의한 연속적인 데이터로 구성되어있는 경우 문자 단위로 구분하기가 매우 힘들어 패리티 검사 방식을 적용하기 힒듬(예: SDLC, HDLC 프로토골과 같이 블록 단위로 메시지가 전달되는 경우)
  - 프레임의 실제 내용에 의해 계산되는 FCS(Frame Check Sequence)를 프레임의 끝에 추가하여 전송
  - 순환잉여검사 과정
    1. 전송 비트에 대한 다항식 표현: 전송 데이터를 M(X)로 표현
    2. 생성 다항식에 의한 부호화: 생성다항식 G(X)를 선택하고, M(X)를 G(X)로 곱하여 M'(X)를 G(X)로 나누어 줌.
       - 생성다항식 G(X)는 M(X)의 비트 수보다 적어야 하며, 일반적으로 CRC-12, CRC-16, CRC-CCITT 등이 사용
       - 나눗셈 연산의 과정 중에 사용되는 논리연산은 모듈로-2(modulo-2) 연산임. 모듈로-2 연산에 의한 덧셈과 뺄셈의 결솨는 서로 같으며, 배타적 논리합의 연산 결과와 동일
    3. 전송 비트와 나머지의 전송: 2번의 결과로 산출되는 나머지 R(X)를 이용하여 F(X) = M'(X) + R(X)를 수신측으로 전송
    4. 오류검출: 수신측은 전송받은 F(X)를 생성다항식 G(X)로 나누어 나머지가 0이면 오류가 없는 것으로 판단, 아니면 오류로 판단

#### 5.3. 귀환오류제어

- 역방향 채널을 이용하는 오류검출 방법을 귀환오류제어(Feedback Error Control)라고 함.
- 귀환오류제어 방식으로 결정귀환(decision feedback), 정보귀환(information feedback), 복합귀환(combined feedback) 등이 있음.
- 결정귀환
  - 수신지국에서 오류 여부를 결정함. 오류가 있을 경우에는 수신지국이 데이터 블록의 재전송을 요구하고, 오류가 없을 경우에는 다음 블록을 보낼 것을 송신지국에 요구
  - 데이터 블록은 전방향 채널로 전송되고, 반면 수신지국으로부터의 명령어는 역방향 채널로 전송됨. 이 방식을 ARQ(Automatic Repetition Request) 방법이라고 함.
- 정보귀환
  - 전송된 블록이 재전송되어야 할지 혹은 다음 블록이 전송되어야 할지에 대한 판단을 송신지국이 결정
- 복합귀환
  - 결정귀환과 정보귀환 방법을 혼합한 방식, 결정귀환과 전진 오류정정(FEC)을 결합한 방식, 오류정정 코드와 결정귀환을 조합한 방식 등이 있음.
- 오류제어 방법의 분류
  - 오류제어 방법 중에 ARQ 방식이 가장 많이 사용되고 있으며, 대표적인 ARQ 방식으로 정지\-대기(stop\-and\-wait) ARQ, 연속적 ARQ, 적응적 ARQ가 있음.
- 정지\-대기 ARQ
  - 송신측은 1개의 데이터 프레임을 수신측에 송신하고, 수신측에서는 수신된 프레임의 오류 유무를 판단해서 송신측으로 ACK 또는 REJ를 전송
  - 송신측은 일정 시간이 경과할 때까지 응답 프레임\[ACK(긍정응답) 혹은 REJ(거절)\]을 수신하지 못할 경우 해당 프레임을 재전송
  - 구현 방법은 단순하나 송신측이 ACK를 수신할 때까지 다음 프레임을 전송할 수 없으므로 전송효율이 저하되는 단점이 있음.
- 연속적 ARQ: N\-프레임 후퇴(Go\-back\-N) ARQ
  - 정지\-대기 ARQ의 단점을 보완한 방법으로 연속적으로 프레임을 전송하는 방식
  - 슬라이딩 윈도우(sliding window) 개념을 사용. 즉, 송신측이 윈도우 크기만큼의 프레임들에 순서번호를 부여하여 연속적으로 전송
  - 송신측 슬라이딩 윈도우: 슬라이딩 윈도우 내의 프레임을 한꺼번에 보낼 수 있음.
  - 수신측은 1개의 크기의 윈도우를 갖고 있고, 다음에 받기 원하는 순서번호를 유지함. 원하는 수신번호의 프레임을 받지 못하면 REJ를 송신측에 전송하여 오류 사실을 알려 줌. 그러면 송신측은 송신측 윈도우 내의 확인 응답되지 않은 모든 프레임을 연속적으로 재전송
